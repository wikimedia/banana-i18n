var xu="\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669",ju="\u06F0\u06F1\u06F2\u06F3\u06F4\u06F5\u06F6\u06F7\u06F8\u06F9",qu="\u0D66\u0D67\u0D68\u0D69\u0D6A\u0D6B\u0D6C\u0D6D\u0D6E\u0D6F",Nu="\u0CE6\u0CE7\u0CE8\u0CE9\u0CEA\u0CEB\u0CEC\u0CED\u0CEE\u0CEF",Mu="\u0ED0\u0ED1\u0ED2\u0ED3\u0ED4\u0ED5\u0ED6\u0ED7\u0ED8\u0ED9",Ou="\u0B66\u0B67\u0B68\u0B69\u0B6A\u0B6B\u0B6C\u0B6D\u0B6E\u0B6F",Tu="\u17E0\u17E1\u17E2\u17E3\u17E4\u17E5\u17E6\u17E7\u17E8\u17E9",Lu="\u07C0\u07C1\u07C2\u07C3\u07C4\u07C5\u07C6\u07C7\u07C8\u07C9",Iu="\u0A66\u0A67\u0A68\u0A69\u0A6A\u0A6B\u0A6C\u0A6D\u0A6E\u0A6F",Gu="\u0AE6\u0AE7\u0AE8\u0AE9\u0AEA\u0AEB\u0AEC\u0AED\u0AEE\u0AEF",Pu="\u0966\u0967\u0968\u0969\u096A\u096B\u096C\u096D\u096E\u096F",Su="\u1040\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049",Hu="\u0BE6\u0BE7\u0BE8\u0BE9\u0BEA\u0BEB\u0BEC\u0BED\u0BEE\u0BEF",Ru="\u0C66\u0C67\u0C68\u0C69\u0C6A\u0C6B\u0C6C\u0C6D\u0C6E\u0C6F",Zu="\u0E50\u0E51\u0E52\u0E53\u0E54\u0E55\u0E56\u0E57\u0E58\u0E59",Ku="\u0F20\u0F21\u0F22\u0F23\u0F24\u0F25\u0F26\u0F27\u0F28\u0F29",I={ar:xu,fa:ju,ml:qu,kn:Nu,lo:Mu,or:Ou,kh:Tu,nqo:Lu,pa:Iu,gu:Gu,hi:Pu,my:Su,ta:Hu,te:Ru,th:Zu,bo:Ku},Uu=["ru"],Wu=["id"],Xu=["id"],_u=["ady-cyrl"],Ju=["aeb-arab"],Qu=["sq"],Vu=["ru"],Yu=["zh-hant"],u0=["es"],r0=["hi"],D0=["es"],a0=["ar"],t0=["ar"],n0=["ar"],e0=["es"],l0=["fr"],s0=["ru"],i0=["fr","es","ru"],c0=["hi"],F0=["es"],o0=["fa"],A0=["ru"],C0=["id"],E0=["de"],v0=["bbc-latn"],h0=["fa"],B0=["fa"],m0=["bho"],b0=["en"],f0=["id"],k0=["fr"],d0=["bn"],p0=["fa"],g0=["fr"],w0=["id"],y0=["id"],z0=["ru"],$0=["oc"],x0=["nan","zh-hant"],j0=["ru"],q0=["it"],N0=["crh-latn"],M0=["sk"],O0=["pl"],T0=["ru"],L0=["hsb","de"],I0=["ms"],G0=["ne"],P0=["it"],S0=["it"],H0=["es"],R0=["fr"],Z0=["fi"],K0=["fr"],U0=["fr"],W0=["de"],X0=["it"],_0=["tr"],J0=["gan-hant","zh-hant","zh-hans"],Q0=["fr"],V0=["pt"],Y0=["fa"],ur=["es"],rr=["gom-deva"],Dr=["id"],ar=["de"],tr=["es"],nr=["zh-hant"],er=["hif-latn"],lr=["de"],sr=["dsb","de"],ir=["fr"],cr=["hy"],Fr=["zh-cn","zh-hans"],or=["ru"],Ar=["eo"],Cr=["ike-cans"],Er=["en"],vr=["da"],hr=["id"],Br=["kk-latn","kk-cyrl"],mr=["fr"],br=["kbd-cyrl"],fr=["fr"],kr=["ur"],dr=["tr"],pr=["my"],gr=["kk-cyrl"],wr=["da"],yr=["ru"],zr=["ru"],$r=["fi"],xr=["ks-arab"],jr=["de"],qr=["ku-latn"],Nr=["ru"],Mr=["ru"],Or=["es"],Tr=["de"],Lr=["ru"],Ir=["ru","az"],Gr=["nl"],Pr=["it"],Sr=["et"],Hr=["fa"],Rr=["it","rm","fur"],Zr=["pms","eml","lij","vec","it"],Kr=["fr"],Ur=["fa"],Wr=["lv"],Xr=["fa"],_r=["zh-hant"],Jr=["tr"],Qr=["id"],Vr=["hi"],Yr=["myv","ru"],uD=["fr"],rD=["mrj","ru"],DD=["id"],aD=["my"],tD=["ro"],nD=["mhr","ru"],eD=["pt"],lD=["mdf","ru"],sD=["fa"],iD=["es"],cD=["cdo","zh-hant"],FD=["it"],oD=["nn"],AD=["de"],CD=["id"],ED=["nb"],vD=["fr"],hD=["ca","fr"],BD=["fi"],mD=["ru"],bD=["fr"],fD=["de"],kD=["de"],dD=["de"],pD=["en"],gD=["it"],wD=["el"],yD=["pt-br"],zD=["qug","es"],$D=["qu","es"],xD=["it"],jD=["ro"],qD=["uk","ru"],ND=["ro"],MD=["ruq-latn","ro"],OD=["hi"],TD=["ru"],LD=["it"],ID=["en"],GD=["it"],PD=["cbk","fa"],SD=["fr"],HD=["fr"],RD=["lt"],ZD=["bs","sr-el","hr"],KD=["fr"],UD=["shy-latn"],WD=["cs"],XD=["skr-arab"],_D=["de"],JD=["fi"],QD=["sr-ec"],VD=["nl"],YD=["de"],ua=["ru"],ra=["id"],Da=["pl"],aa=["zh-tw","zh-hant","zh-hans"],ta=["zh-tw","zh-hant","zh-hans"],na=["kn"],ea=["pt"],la=["tg-cyrl"],sa=["zh-tw","zh-hant","zh-hans"],ia=["tt-cyrl","ru"],ca=["fr"],Fa=["ru"],oa=["ru"],Aa=["ug-arab"],Ca=["it"],Ea=["et"],va=["nl"],ha=["de"],Ba=["fi"],ma=["et"],ba=["fr"],fa=["fr"],ka=["zh-hans"],da=["ru"],pa=["ka"],ga=["he"],wa=["zh-hans"],ya=["nl"],za=["kab"],$a=["zh-hans"],G={ab:Uu,abs:Wu,ace:Xu,ady:_u,aeb:Ju,"aeb-arab":["ar"],aln:Qu,alt:Vu,ami:Yu,an:u0,anp:r0,arn:D0,arq:a0,ary:t0,arz:n0,ast:e0,atj:l0,av:s0,avk:i0,awa:c0,ay:F0,azb:o0,ba:A0,ban:C0,"ban-bali":["ban"],bar:E0,bbc:v0,"bbc-latn":["id"],bcc:h0,"be-tarask":["be"],bgn:B0,bh:m0,bi:b0,bjn:f0,bm:k0,bpy:d0,bqi:p0,br:g0,btm:w0,bug:y0,bxr:z0,ca:$0,"cbk-zam":["es"],cdo:x0,ce:j0,co:q0,crh:N0,"crh-cyrl":["ru"],cs:M0,csb:O0,cv:T0,"de-at":["de"],"de-ch":["de"],"de-formal":["de"],dsb:L0,dtp:I0,dty:G0,egl:P0,eml:S0,"en-ca":["en"],"en-gb":["en"],"es-419":["es"],"es-formal":["es"],ext:H0,ff:R0,fit:Z0,frc:K0,frp:U0,frr:W0,fur:X0,gag:_0,gan:J0,"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],gcr:Q0,gl:V0,glk:Y0,gn:ur,gom:rr,"gom-deva":["hi"],gor:Dr,gsw:ar,guc:tr,hak:nr,hif:er,hrx:lr,hsb:sr,ht:ir,"hu-formal":["hu"],hyw:cr,ii:Fr,inh:or,io:Ar,iu:Cr,jam:Er,jut:vr,jv:hr,kaa:Br,kab:mr,kbd:br,kbp:fr,khw:kr,kiu:dr,kjp:pr,kk:gr,"kk-arab":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],kl:wr,"ko-kp":["ko"],koi:yr,krc:zr,krl:$r,ks:xr,ksh:jr,ku:qr,"ku-arab":["ckb"],kum:Nr,kv:Mr,lad:Or,lb:Tr,lbe:Lr,lez:Ir,li:Gr,lij:Pr,liv:Sr,lki:Hr,lld:Rr,lmo:Zr,ln:Kr,lrc:Ur,ltg:Wr,luz:Xr,lzh:_r,lzz:Jr,mad:Qr,mai:Vr,"map-bms":["jv","id"],mdf:Yr,mg:uD,mhr:rD,min:DD,mnw:aD,mo:tD,mrj:nD,"ms-arab":["ms"],mwl:eD,myv:lD,mzn:sD,nah:iD,nan:cD,nap:FD,nb:oD,nds:AD,"nds-nl":["nl"],nia:CD,"nl-informal":["nl"],nn:ED,nrm:vD,oc:hD,olo:BD,os:mD,pcd:bD,pdc:fD,pdt:kD,pfl:dD,pih:pD,pms:gD,pnt:wD,pt:yD,"pt-br":["pt"],qu:zD,qug:$D,rgn:xD,rmy:jD,"roa-tara":["it"],rue:qD,rup:ND,ruq:MD,"ruq-cyrl":["mk"],"ruq-latn":["ro"],sa:OD,sah:TD,scn:LD,sco:ID,sdc:GD,sdh:PD,ses:SD,sg:HD,sgs:RD,sh:ZD,shi:KD,shy:UD,"shy-latn":["fr"],sk:WD,skr:XD,"skr-arab":["ur","pnb"],sli:_D,smn:JD,sr:QD,srn:VD,stq:YD,sty:ua,su:ra,szl:Da,szy:aa,tay:ta,tcy:na,tet:ea,tg:la,trv:sa,tt:ia,"tt-cyrl":["ru"],ty:ca,tyv:Fa,udm:oa,ug:Aa,vec:Ca,vep:Ea,vls:va,vmf:ha,vot:Ba,vro:ma,wa:ba,wo:fa,wuu:ka,xal:da,xmf:pa,yi:ga,za:wa,zea:ya,zgh:za,zh:$a,"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"]};let F=class{constructor(u){this.locale=u}convertPlural(u,r){const a=/\d+=/i;if(!r||r.length===0)return"";for(let n=0;n<r.length;n++){const e=r[n];if(a.test(e)){if(parseInt(e.slice(0,e.indexOf("=")),10)===u)return e.slice(e.indexOf("=")+1);r[n]=void 0}}r=r.filter(n=>!!n);let t=this.getPluralForm(u,this.locale);return t=Math.min(t,r.length-1),r[t]}getPluralForm(u,r){const a=["zero","one","two","few","many","other"],t=new Intl.PluralRules(r),n=t.resolvedOptions().pluralCategories,e=t.select(u);return a.filter(i=>n.includes(i)).indexOf(e)}convertNumber(u,r=!1){let a=this.digitTransformTable(this.locale),t="";if(r){if(parseFloat(u,10)===u||!a)return u;const n=[];for(const i in a)n[a[i]]=i;a=n;const e=String(u);for(let i=0;i<e.length;i++)t+=a[e[i]]||e[i];return parseFloat(t,10)}if(Intl.NumberFormat){let n;const e=[...G[this.locale]||[],"en"];return Intl.NumberFormat.supportedLocalesOf(this.locale).length?n=[this.locale]:n=e,t=new Intl.NumberFormat(n).format(u),t==="NaN"&&(t=u),t}}convertGrammar(u){return u}gender(u,r){if(!r||r.length===0)return"";for(;r.length<2;)r.push(r[r.length-1]);return u==="male"?r[0]:u==="female"?r[1]:r.length===3?r[2]:r[0]}digitTransformTable(u){return I[u]?I[u].split(""):!1}},xa=class extends F{convertGrammar(u,r){switch(r){case"prefixed":case"\u05EA\u05D7\u05D9\u05DC\u05D9\u05EA":u.slice(0,1)==="\u05D5"&&u.slice(0,2)!=="\u05D5\u05D5"&&(u="\u05D5"+u),u.slice(0,1)==="\u05D4"&&(u=u.slice(1)),(u.slice(0,1)<"\u05D0"||u.slice(0,1)>"\u05EA")&&(u="\u05BE"+u)}return u}},ja=class extends F{convertGrammar(u,r){switch(r){case"instrumental":u="s "+u;break;case"lokativ":u="o "+u;break}return u}},qa=class extends F{convertGrammar(u,r){switch(r){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u;break}return u}},Na=class extends F{convertGrammar(u,r){switch(r){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u;break}return u}},Ma=class extends F{convertGrammar(u,r){let a=u.match(/[aou][^äöy]*$/i);const t=u;switch(u.match(/wiki$/i)&&(a=!1),u.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(u+="i"),r){case"genitive":u+="n";break;case"elative":u+=a?"sta":"st\xE4";break;case"partitive":u+=a?"a":"\xE4";break;case"illative":u+=u.slice(-1)+"n";break;case"inessive":u+=a?"ssa":"ss\xE4";break;default:u=t;break}return u}},Oa=class extends F{convertGrammar(u,r){return r==="genitive"&&(u.slice(-1)==="\u044C"?u=u.slice(0,-1)+"\u044F":u.slice(-2)==="\u0438\u044F"?u=u.slice(0,-2)+"\u0438\u0438":u.slice(-2)==="\u043A\u0430"?u=u.slice(0,-2)+"\u043A\u0438":u.slice(-2)==="\u0442\u0438"?u=u.slice(0,-2)+"\u0442\u0435\u0439":u.slice(-2)==="\u0434\u044B"?u=u.slice(0,-2)+"\u0434\u043E\u0432":u.slice(-3)==="\u043D\u0438\u043A"&&(u=u.slice(0,-3)+"\u043D\u0438\u043A\u0430")),u}};class Ta extends F{convertGrammar(u,r){switch(r){case"mestnik":u="o "+u;break;case"orodnik":u="z "+u;break}return u}}let La=class extends F{convertGrammar(u,r){switch(r){case"genitive":u=u.replace(/u[ms]$/i,"i"),u=u.replace(/ommunia$/i,"ommunium"),u=u.replace(/a$/i,"ae"),u=u.replace(/libri$/i,"librorum"),u=u.replace(/nuntii$/i,"nuntiorum"),u=u.replace(/tio$/i,"tionis"),u=u.replace(/ns$/i,"ntis"),u=u.replace(/as$/i,"atis"),u=u.replace(/es$/i,"ei");break;case"accusative":u=u.replace(/u[ms]$/i,"um"),u=u.replace(/ommunia$/i,"am"),u=u.replace(/a$/i,"ommunia"),u=u.replace(/libri$/i,"libros"),u=u.replace(/nuntii$/i,"nuntios"),u=u.replace(/tio$/i,"tionem"),u=u.replace(/ns$/i,"ntem"),u=u.replace(/as$/i,"atem"),u=u.replace(/es$/i,"em");break;case"ablative":u=u.replace(/u[ms]$/i,"o"),u=u.replace(/ommunia$/i,"ommunibus"),u=u.replace(/a$/i,"a"),u=u.replace(/libri$/i,"libris"),u=u.replace(/nuntii$/i,"nuntiis"),u=u.replace(/tio$/i,"tione"),u=u.replace(/ns$/i,"nte"),u=u.replace(/as$/i,"ate"),u=u.replace(/es$/i,"e");break}return u}};class Ia extends F{convertGrammar(u,r){return r==="genitive"&&(u.slice(-1)==="\u0561"?u=u.slice(0,-1)+"\u0561\u0575\u056B":u.slice(-1)==="\u0578"?u=u.slice(0,-1)+"\u0578\u0575\u056B":u.slice(-4)==="\u0563\u056B\u0580\u0584"?u=u.slice(0,-4)+"\u0563\u0580\u0584\u056B":u=u+"\u056B"),u}}let Ga=class extends F{convertGrammar(u,r){if(r==="ainmlae")switch(u){case"an Domhnach":u="D\xE9 Domhnaigh";break;case"an Luan":u="D\xE9 Luain";break;case"an Mh\xE1irt":u="D\xE9 Mh\xE1irt";break;case"an Ch\xE9adaoin":u="D\xE9 Ch\xE9adaoin";break;case"an D\xE9ardaoin":u="D\xE9ardaoin";break;case"an Aoine":u="D\xE9 hAoine";break;case"an Satharn":u="D\xE9 Sathairn";break}return u}},Pa=class extends F{convertGrammar(u,r){switch(r){case"rol":u+="r\xF3l";break;case"ba":u+="ba";break;case"k":u+="k";break}return u}},Sa=class extends F{convertGrammar(u,r){let a,t,n,e;switch(a="\u043C\xE6",t="",n="",e="",u.match(/тæ$/i)?(u=u.slice(0,-1),a="\xE6\u043C"):u.match(/[аæеёиоыэюя]$/i)?t="\u0439":u.match(/у$/i)?u.slice(-2,-1).match(/[аæеёиоыэюя]$/i)||(t="\u0439"):u.match(/[бвгджзйклмнопрстфхцчшщьъ]$/i)||(n="-"),r){case"genitive":e=n+t+"\u044B";break;case"dative":e=n+t+"\xE6\u043D";break;case"allative":e=n+a;break;case"ablative":t==="\u0439"?e=n+t+"\xE6":e=n+t+"\xE6\u0439";break;case"superessive":e=n+t+"\u044B\u043B";break;case"equative":e=n+t+"\u0430\u0443";break;case"comitative":e=n+"\u0438\u043C\xE6";break}return u+e}};class Ha extends F{convertGrammar(u,r){switch(r){case"genitive":u.slice(-1)==="\u044C"?u=u.slice(0,-1)+"\u044F":u.slice(-2)==="\u0456\u044F"?u=u.slice(0,-2)+"\u0456\u0457":u.slice(-2)==="\u043A\u0430"?u=u.slice(0,-2)+"\u043A\u0438":u.slice(-2)==="\u0442\u0438"?u=u.slice(0,-2)+"\u0442\u0435\u0439":u.slice(-2)==="\u0434\u044B"?u=u.slice(0,-2)+"\u0434\u043E\u0432":u.slice(-3)==="\u043D\u0438\u043A"&&(u=u.slice(0,-3)+"\u043D\u0438\u043A\u0430");break;case"accusative":u.slice(-2)==="\u0456\u044F"&&(u=u.slice(0,-2)+"\u0456\u044E");break}return u}}var P={bs:ja,default:F,dsb:qa,fi:Ma,ga:Ga,he:xa,hsb:Na,hu:Pa,hy:Ia,la:La,os:Sa,ru:Oa,sl:Ta,uk:Ha};const Ra=new RegExp("(?:([A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u055F\u0561-\u0587\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C7F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D5F-\u0D61\u0D66-\u0D75\u0D79-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4B\u1B50-\u1B6A\u1B74-\u1B7C\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FD\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BD-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB65\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B]|\uD800[\uDC0D-\uDC26]|\uD800[\uDC28-\uDC3A]|\u{1003C}|\u{1003D}|\uD800[\uDC3F-\uDC4D]|\uD800[\uDC50-\uDC5D]|\uD800[\uDC80-\uDCFA]|\u{10100}|\u{10102}|\uD800[\uDD07-\uDD33]|\uD800[\uDD37-\uDD3F]|\uD800[\uDDD0-\uDDFC]|\uD800[\uDE80-\uDE9C]|\uD800[\uDEA0-\uDED0]|\uD800[\uDF00-\uDF23]|\uD800[\uDF30-\uDF4A]|\uD800[\uDF50-\uDF75]|\uD800[\uDF80-\uDF9D]|\uD800[\uDF9F-\uDFC3]|\uD800[\uDFC8-\uDFD5]|\uD801[\uDC00-\uDC9D]|\uD801[\uDCA0-\uDCA9]|\uD801[\uDD00-\uDD27]|\uD801[\uDD30-\uDD63]|\u{1056F}|\uD801[\uDE00-\uDF36]|\uD801[\uDF40-\uDF55]|\uD801[\uDF60-\uDF67]|\u{11000}|\uD804[\uDC02-\uDC37]|\uD804[\uDC47-\uDC4D]|\uD804[\uDC66-\uDC6F]|\uD804[\uDC82-\uDCB2]|\u{110B7}|\u{110B8}|\uD804[\uDCBB-\uDCC1]|\uD804[\uDCD0-\uDCE8]|\uD804[\uDCF0-\uDCF9]|\uD804[\uDD03-\uDD26]|\u{1112C}|\uD804[\uDD36-\uDD43]|\uD804[\uDD50-\uDD72]|\uD804[\uDD74-\uDD76]|\uD804[\uDD82-\uDDB5]|\uD804[\uDDBF-\uDDC9]|\u{111CD}|\uD804[\uDDD0-\uDDDF]|\uD804[\uDDE1-\uDDF4]|\uD804[\uDE00-\uDE11]|\uD804[\uDE13-\uDE2E]|\u{11232}|\u{11233}|\u{11235}|\uD804[\uDE38-\uDE3D]|\uD804[\uDE80-\uDE86]|\u{11288}|\uD804[\uDE8A-\uDE8D]|\uD804[\uDE8F-\uDE9D]|\uD804[\uDE9F-\uDEA9]|\uD804[\uDEB0-\uDEDE]|\uD804[\uDEE0-\uDEE2]|\uD804[\uDEF0-\uDEF9]|\u{11302}|\u{11303}|\uD804[\uDF05-\uDF0C]|\u{1130F}|\u{11310}|\uD804[\uDF13-\uDF28]|\uD804[\uDF2A-\uDF30]|\u{11332}|\u{11333}|\uD804[\uDF35-\uDF39]|\uD804[\uDF3D-\uDF3F]|\uD804[\uDF41-\uDF44]|\u{11347}|\u{11348}|\uD804[\uDF4B-\uDF4D]|\u{11350}|\u{11357}|\uD804[\uDF5D-\uDF63]|\uD805[\uDC80-\uDCB2]|\u{114B9}|\uD805[\uDCBB-\uDCBE]|\u{114C1}|\uD805[\uDCC4-\uDCC7]|\uD805[\uDCD0-\uDCD9]|\uD805[\uDD80-\uDDB1]|\uD805[\uDDB8-\uDDBB]|\u{115BE}|\uD805[\uDDC1-\uDDDB]|\uD805[\uDE00-\uDE32]|\u{1163B}|\u{1163C}|\u{1163E}|\uD805[\uDE41-\uDE44]|\uD805[\uDE50-\uDE59]|\uD805[\uDE80-\uDEAA]|\u{116AC}|\u{116AE}|\u{116AF}|\u{116B6}|\uD805[\uDEC0-\uDEC9]|\uD805[\uDF00-\uDF19]|\u{11720}|\u{11721}|\u{11726}|\uD805[\uDF30-\uDF3F]|\uD806[\uDCA0-\uDCF2]|\u{118FF}|\uD806[\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E]|\uD809[\uDC70-\uDC74]|\uD809[\uDC80-\uDD43]|\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38]|\uD81A[\uDE40-\uDE5E]|\uD81A[\uDE60-\uDE69]|\u{16A6E}|\u{16A6F}|\uD81A[\uDED0-\uDEED]|\u{16AF5}|\uD81A[\uDF00-\uDF2F]|\uD81A[\uDF37-\uDF45]|\uD81A[\uDF50-\uDF59]|\uD81A[\uDF5B-\uDF61]|\uD81A[\uDF63-\uDF77]|\uD81A[\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44]|\uD81B[\uDF50-\uDF7E]|\uD81B[\uDF93-\uDF9F]|\u{1B000}|\u{1B001}|\uD82F[\uDC00-\uDC6A]|\uD82F[\uDC70-\uDC7C]|\uD82F[\uDC80-\uDC88]|\uD82F[\uDC90-\uDC99]|\u{1BC9C}|\u{1BC9F}|\uD834[\uDC00-\uDCF5]|\uD834[\uDD00-\uDD26]|\uD834[\uDD29-\uDD66]|\uD834[\uDD6A-\uDD72]|\u{1D183}|\u{1D184}|\uD834[\uDD8C-\uDDA9]|\uD834[\uDDAE-\uDDE8]|\uD834[\uDF60-\uDF71]|\uD835[\uDC00-\uDC54]|\uD835[\uDC56-\uDC9C]|\u{1D49E}|\u{1D49F}|\u{1D4A2}|\u{1D4A5}|\u{1D4A6}|\uD835[\uDCA9-\uDCAC]|\uD835[\uDCAE-\uDCB9]|\u{1D4BB}|\uD835[\uDCBD-\uDCC3]|\uD835[\uDCC5-\uDD05]|\uD835[\uDD07-\uDD0A]|\uD835[\uDD0D-\uDD14]|\uD835[\uDD16-\uDD1C]|\uD835[\uDD1E-\uDD39]|\uD835[\uDD3B-\uDD3E]|\uD835[\uDD40-\uDD44]|\u{1D546}|\uD835[\uDD4A-\uDD50]|\uD835[\uDD52-\uDEA5]|\uD835[\uDEA8-\uDEDA]|\uD835[\uDEDC-\uDF14]|\uD835[\uDF16-\uDF4E]|\uD835[\uDF50-\uDF88]|\uD835[\uDF8A-\uDFC2]|\uD835[\uDFC4-\uDFCB]|\uD836[\uDC00-\uDDFF]|\uD836[\uDE37-\uDE3A]|\uD836[\uDE6D-\uDE74]|\uD836[\uDE76-\uDE83]|\uD836[\uDE85-\uDE8B]|\uD83C[\uDD10-\uDD2E]|\uD83C[\uDD30-\uDD69]|\uD83C[\uDD70-\uDD9A]|\uD83C[\uDDE6-\uDE02]|\uD83C[\uDE10-\uDE3A]|\uD83C[\uDE40-\uDE48]|\u{1F250}|\u{1F251}|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD869[\uDF00-\uDFFF]|[\uD86A-\uD86C][\uDC00-\uDFFF]|\uD86D[\uDC00-\uDF34]|\uD86D[\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD86E[\uDC20-\uDFFF]|[\uD86F-\uD872][\uDC00-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|[\uDB80-\uDBBE][\uDC00-\uDFFF]|\uDBBF[\uDC00-\uDFFD]|[\uDBC0-\uDBFE][\uDC00-\uDFFF]|\uDBFF[\uDC00-\uDFFD])|([\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u07C0-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB4F\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07BF\u08A0-\u08E2\uFB50-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD802[\uDC00-\uDD1E]|\uD802[\uDD20-\uDE00]|\u{10A04}|\uD802[\uDE07-\uDE0B]|\uD802[\uDE10-\uDE37]|\uD802[\uDE3B-\uDE3E]|\uD802[\uDE40-\uDEE4]|\uD802[\uDEE7-\uDF38]|\uD802[\uDF40-\uDFFF]|\uD803[\uDC00-\uDE5F]|\uD803[\uDE7F-\uDFFF]|\uD83A[\uDC00-\uDCCF]|\uD83A[\uDCD7-\uDFFF]|\uD83B[\uDC00-\uDDFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDF00-\uDFFF]|\uD83B[\uDE00-\uDEEF]|\uD83B[\uDEF2-\uDEFF]))");let S=class{constructor(u){this.locale=v(u),this.language=new(P[this.locale]||P.default)(this.locale)}emit(u,r){let a,t,n;switch(typeof u){case"string":case"number":a=u;break;case"object":if(t=u.slice(1).map(e=>this.emit(e,r)),n=u[0].toLowerCase(),typeof this[n]=="function")a=this[n](t,r);else throw new Error('unknown operation "'+n+'"');break;case"undefined":a="";break;default:throw new Error("unexpected type in AST: "+typeof u)}return a}concat(u){let r="";return u.forEach(a=>{r+=a}),r}replace(u,r){const a=parseInt(u[0],10);return a<r.length?r[a]:"$"+(a+1)}plural(u){const r=parseFloat(this.language.convertNumber(u[0],10)),a=u.slice(1);return a.length?this.language.convertPlural(r,a):""}gender(u){const r=u[0],a=u.slice(1);return this.language.gender(r,a)}grammar(u){const r=u[0],a=u[1];return a&&r&&this.language.convertGrammar(a,r)}wikilink(u){let r,a=u[0];a.charAt(0)===":"&&(a=a.slice(1));const t=`./${a}`;return u.length===1?r=a:r=u[1],`<a href="${t}" title="${a}">${r}</a>`}extlink(u){if(u.length!==2)throw new Error("Expected two items in the node");return`<a href="${u[0]}">${u[1]}</a>`}bidi(u){const r=Za(u[0]);return r==="ltr"?"\u202A"+u[0]+"\u202C":r==="rtl"?"\u202B"+u[0]+"\u202C":u[0]}formatnum(u){const r=!!u[1]&&u[1]==="R",a=u[0];return typeof a=="string"||typeof a=="number"?this.language.convertNumber(a,r):a}htmlattributes(u){const r={};for(let a=0,t=u.length;a<t;a+=2)r[u[a]]=u[a+1];return r}htmlelement(u){const r=u.shift(),a=u.shift();let t=u,n="";for(const i in a)n+=` ${i}="${a[i]}"`;Array.isArray(t)||(t=[t]);const e=t.join("");return`<${r}${n}>${e}</${r}>`}};function v(s){return typeof s=="string"?s.toLowerCase():s}function Za(s){const u=s.match(Ra);return u?u[2]===void 0?"ltr":"rtl":null}function Ka(s,{wikilinks:u=!1}={}){let r=0;function a(D){return()=>{for(let l=0;l<D.length;l++){const c=D[l]();if(c!==null)return c}return null}}function t(D){const l=r,c=[];for(let o=0;o<D.length;o++){const A=D[o]();if(A===null)return r=l,null;c.push(A)}return c}function n(D,l){return()=>{const c=r,o=[];let A=l();for(;A!==null;)o.push(A),A=l();return o.length<D?(r=c,null):o}}function e(D){const l=D.length;return()=>{let c=null;return s.slice(r,r+l)===D&&(c=D,r+=l),c}}function i(D){return()=>{const l=s.slice(r).match(D);return l===null?null:(r+=l[0].length,l[0])}}const h=i(/^\s+/),z=e("|"),d=e(":"),R=e("\\"),Z=i(/^./),K=e("$"),U=i(/^\d+/),$=e('"'),x=e("'"),W=i(u?/^[^{}[\]$<\\]/:/^[^{}$<\\]/),X=i(u?/^[^{}[\]$\\|]/:/^[^{}$\\|]/),_=i(u?/^[^{}[\]$\s]/:/^[^{}$\s]/);function J(D,l){return()=>{const c=D();return c===null?null:l(c)}}function Q(){const D=n(1,ru)();return D===null?null:D.join("")}function V(){const D=n(1,Du)();return D===null?null:D.join("")}const Y=a([p,_]);function uu(){const D=n(1,Y)();return D===null?null:D.join("")}function p(){const D=t([R,Z]);return D===null?null:D[1]}const ru=a([p,X]),Du=a([p,W]);function B(){const D=t([K,U]);return D===null?null:["REPLACE",parseInt(D[1],10)-1]}const m=J(i(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),function(D){return D.toString()});function j(){const D=t([z,n(0,f)]);if(D===null)return null;const l=D[1];return l.length>1?["CONCAT"].concat(l):l[0]}function au(){const D=t([m,d,B]);return D===null?null:[D[0],D[2]]}function tu(){const D=t([m,d,f]);return D===null?null:[D[0],D[2]]}function nu(){const D=t([m,d]);return D===null?null:[D[0],""]}const eu=a([function(){const D=t([a([au,tu,nu]),n(0,j)]);return D===null?null:D[0].concat(D[1])},function(){const D=t([m,n(0,j)]);return D===null?null:[D[0]].concat(D[1])}]),lu=e("{{"),su=e("}}"),iu=e("[["),cu=e("]]"),Fu=e("["),ou=e("]");function g(){const D=t([lu,eu,su]);return D===null?null:D[1]}function Au(){const D=t([n(1,f),z,n(1,b)]);return D===null?null:[["CONCAT"].concat(D[0]),["CONCAT"].concat(D[2])]}function Cu(){const D=t([n(1,f)]);return D===null?null:[["CONCAT"].concat(D[0])]}const Eu=a([Au,Cu]);function q(){let D=null;const l=t([iu,Eu,cu]);if(l!==null){const c=l[1];D=["WIKILINK"].concat(c)}return D}function N(){let D=null;const l=t([Fu,n(1,ku),h,n(1,b),ou]);return l!==null&&(D=["EXTLINK",l[1].length===1?l[1][0]:["CONCAT"].concat(l[1]),["CONCAT"].concat(l[3])]),D}const w=i(/^[A-Za-z]+/);function vu(D,l,c,o={allowedHtmlElements:["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","li","dt","dd"],allowedHtmlCommonAttributes:["id","class","style","lang","dir","title","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"],allowedHtmlAttributesByElement:{}}){if(D=D.toLowerCase(),l=l.toLowerCase(),D!==l||o.allowedHtmlElements.indexOf(D)===-1)return!1;const A=/[\000-\010\013\016-\037\177]|expression|filter\s*:|accelerator\s*:|-o-link\s*:|-o-link-source\s*:|-o-replace\s*:|url\s*\(|image\s*\(|image-set\s*\(/i;for(let C=0,k=c.length;C<k;C+=2){const E=c[C];if(o.allowedHtmlCommonAttributes.indexOf(E)===-1&&(o.allowedHtmlAttributesByElement[D]||[]).indexOf(E)===-1||E==="style"&&c[C+1].search(A)!==-1)return!1}return!0}function hu(){const D=i(/^[^"]*/),l=t([$,D,$]);return l===null?null:l[1]}function Bu(){const D=i(/^[^']*/),l=t([x,D,x]);return l===null?null:l[1]}function mu(){const D=i(/^\s*=\s*/),l=t([h,w,D,a([hu,Bu])]);return l===null?null:[l[1],l[3]]}function bu(){const D=n(0,mu)();return Array.prototype.concat.apply(["HTMLATTRIBUTES"],D)}function fu(){let D=null;const l=r,c=e("<"),o=i(/^\/?/),A=i(/^\s*>/),C=t([c,w,bu,o,A]);if(C===null)return null;const k=r,E=C[1],y=n(0,b)(),pu=r,gu=e("</"),O=t([gu,w,A]);if(O===null)return["CONCAT",s.slice(l,k)].concat(y);const wu=r,yu=O[1],T=C[2],zu=T.slice(1);if(vu(E,yu,zu))D=["HTMLELEMENT",E,T].concat(y);else{const L=$u=>$u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");D=["CONCAT",L(s.slice(l,k))].concat(y,L(s.slice(pu,wu)))}return D}const ku=a([g,B,q,N,uu]),b=a([g,B,q,N,fu,V]),f=a([g,B,Q]);function du(){const D=n(0,b)();return D===null?null:["CONCAT"].concat(D)}const M=du();if(M===null||r!==s.length)throw new Error("Parse error at position "+r.toString()+" in input: "+s);return M}class H{constructor(u,{wikilinks:r=!1}={}){this.locale=v(u),this.wikilinks=r,this.emitter=new S(this.locale)}parse(u,r){if(u.includes("{{")||u.includes("<")||this.wikilinks&&u.includes("[")){const a=Ka(u,{wikilinks:this.wikilinks});return this.emitter.emit(a,r)}else return this.simpleParse(u,r)}simpleParse(u,r){return u.replace(/\$(\d+)/g,(a,t)=>{const n=parseInt(t,10)-1;return r[n]!==void 0?r[n]:"$"+t})}}class Ua{constructor(){this.sourceMap=new Map}load(u,r){if(typeof u!="object")throw new Error("Invalid message source. Must be an object");if(r=v(r),r){if(!/^[a-zA-Z0-9-]+$/.test(r))throw new Error(`Invalid locale ${r}`);for(const a in u)if(a.indexOf("@")!==0){if(typeof u[a]=="object")return this.load(u);if(typeof u[a]!="string")throw new Error(`Invalid message for message ${a} in ${r} locale.`);break}this.sourceMap.has(r)?this.sourceMap.set(r,Object.assign(this.sourceMap.get(r),u)):this.sourceMap.set(r,u)}else for(r in u)this.load(u[r],r)}getMessage(u,r){const a=this.sourceMap.get(v(r));return a?a[u]:null}hasLocale(u){return this.sourceMap.has(u)}}class Wa{constructor(u,{finalFallback:r="en",messages:a=void 0,wikilinks:t=!1}={}){this.locale=v(u),this.parser=new H(this.locale,{wikilinks:t}),this.messageStore=new Ua,a&&this.load(a,this.locale),this.finalFallback=r,this.wikilinks=t}load(u,r){return this.messageStore.load(u,r||this.locale)}i18n(u,...r){return this.parser.parse(this.getMessage(u),r)}setLocale(u){this.locale=v(u),this.parser=new H(this.locale,{wikilinks:this.wikilinks})}getFallbackLocales(){return[...G[this.locale]||[],this.finalFallback]}getMessage(u){let r=this.locale,a=0;const t=this.getFallbackLocales(this.locale);for(;r;){const n=r.split("-");let e=n.length;do{const i=n.slice(0,e).join("-"),h=this.messageStore.getMessage(u,i);if(typeof h=="string")return h;e--}while(e);r=t[a],a++}return u}registerParserPlugin(u,r){S.prototype[u]=r}}export{Wa as default};
//# sourceMappingURL=banana-i18n.js.map
